:root {
  --bg: #fff;
  --panel: #f5f5f5;
  --panel2: #f0f0f0;
  --border: #e5e5e5;
  --text: #1a1a1a;
  --muted: #666;
  --muted2: #999;
  --accent: #1a1a1a;
}

* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
}

.tv { padding: 24px; height: 100vh; display: flex; flex-direction: column; gap: 18px; }

.top {
  display: flex;
  align-items: center;
  justify-content: center;
}

.title { text-align: center; }
.h1 { font-size: 44px; font-weight: 900; letter-spacing: 0.2px; color: var(--text); }
.sub { font-size: 16px; color: var(--muted); margin-top: 8px; }
.dot { margin: 0 10px; color: var(--muted2); }

.bottom {
  margin-top: auto;
}

.qrbox {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
}

.qrbox.horizontal .qrinfo {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.qrlabel { font-size: 18px; font-weight: 700; color: var(--text); }
.qr { width: 100px; height: 100px; background: #fff; border-radius: 10px; padding: 6px; border: 1px solid var(--border); }
.joinurl { font-size: 14px; color: var(--muted); }

.grid {
  display: grid;
  grid-template-columns: 1.4fr 1fr;
  gap: 16px;
  flex: 1;
  min-height: 0;
}

.panel {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.panel.right { background: var(--panel2); }

.panelTitle {
  font-size: 18px;
  font-weight: 800;
  margin-bottom: 12px;
  color: var(--text);
}

.rows {
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.row {
  display: grid;
  grid-template-columns: 70px 1fr 120px;
  gap: 12px;
  align-items: center;
  padding: 14px 14px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: #fff;
  transition: all 0.3s ease;
  border-left: 4px solid transparent;
}

.row.team-red {
  border-left-color: #dc2626;
}

.row.team-blue {
  border-left-color: #2563eb;
}

.rank { font-size: 26px; font-weight: 900; color: var(--muted); }
.name { font-size: 22px; font-weight: 900; }
.meta { font-size: 14px; color: var(--muted); margin-top: 2px; }

.team-badge {
  display: inline-block;
  font-size: 11px;
  font-weight: 700;
  padding: 3px 8px;
  border-radius: 4px;
  margin-left: 8px;
  vertical-align: middle;
}

.team-badge.red {
  background: #dc2626;
  color: #fff;
}

.team-badge.blue {
  background: #2563eb;
  color: #fff;
}
.score { text-align: right; font-size: 34px; font-weight: 1000; color: var(--text); }

/* First place special styling */
.row:first-child {
  background: #f9f9f9;
  border-top-color: var(--text);
  border-right-color: var(--text);
  border-bottom-color: var(--text);
}

.row:first-child .rank {
  color: var(--text);
}

/* New leader animation */
.row.newLeader {
  animation: newLeader 2.5s ease-in-out;
  border-color: var(--text);
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
}

@keyframes newLeader {
  0% { transform: scale(1) rotate(0deg); box-shadow: 0 0 0 rgba(0, 0, 0, 0); background: #fff; }
  10% { transform: scale(1.08) rotate(-1deg); box-shadow: 0 0 40px rgba(26, 26, 26, 0.4); background: #fff4e6; }
  20% { transform: scale(1.05) rotate(1deg); box-shadow: 0 0 35px rgba(26, 26, 26, 0.35); background: #fffbf0; }
  30% { transform: scale(1.06) rotate(-0.5deg); box-shadow: 0 0 38px rgba(26, 26, 26, 0.38); background: #fff8eb; }
  40% { transform: scale(1.04) rotate(0.5deg); box-shadow: 0 0 33px rgba(26, 26, 26, 0.33); background: #fffcf5; }
  50% { transform: scale(1.05) rotate(0deg); box-shadow: 0 0 36px rgba(26, 26, 26, 0.36); background: #fff6e8; }
  60% { transform: scale(1.03) rotate(0deg); box-shadow: 0 0 30px rgba(26, 26, 26, 0.3); background: #fffaf2; }
  70% { transform: scale(1.02) rotate(0deg); box-shadow: 0 0 25px rgba(26, 26, 26, 0.25); background: #fffdf8; }
  85% { transform: scale(1.01) rotate(0deg); box-shadow: 0 0 22px rgba(26, 26, 26, 0.2); background: #f9f9f9; }
  100% { transform: scale(1) rotate(0deg); box-shadow: 0 0 20px rgba(0, 0, 0, 0.15); background: #f9f9f9; }
}

/* Score changed animation */
.row.changed {
  animation: pulse 1.2s ease-out;
}

@keyframes pulse {
  0% { transform: scale(1); background: #fff; box-shadow: 0 0 0 rgba(26, 26, 26, 0); }
  20% { transform: scale(1.04); background: #e6f7ff; box-shadow: 0 0 20px rgba(37, 99, 235, 0.3); }
  40% { transform: scale(1.02); background: #f0f9ff; box-shadow: 0 0 15px rgba(37, 99, 235, 0.2); }
  60% { transform: scale(1.03); background: #e8f4ff; box-shadow: 0 0 18px rgba(37, 99, 235, 0.25); }
  80% { transform: scale(1.01); background: #f5faff; box-shadow: 0 0 10px rgba(37, 99, 235, 0.15); }
  100% { transform: scale(1); background: #fff; box-shadow: 0 0 0 rgba(26, 26, 26, 0); }
}

/* Team Battle */
.teamBattle {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 12px;
  align-items: center;
  margin-bottom: 20px;
  padding: 16px;
  background: #fff;
  border-radius: 14px;
  border: 1px solid var(--border);
}

.teamScore {
  text-align: center;
  padding: 12px;
  border-radius: 12px;
}

.teamScore.red {
  background: rgba(220, 38, 38, 0.1);
  border: 2px solid rgba(220, 38, 38, 0.3);
}

.teamScore.blue {
  background: rgba(37, 99, 235, 0.1);
  border: 2px solid rgba(37, 99, 235, 0.3);
}

.teamName {
  font-size: 16px;
  font-weight: 800;
  color: var(--text);
}

.teamSub {
  font-size: 11px;
  color: var(--muted);
  margin-bottom: 8px;
}

.teamTickets {
  font-size: 36px;
  font-weight: 900;
  color: var(--text);
}

.teamScore.red .teamTickets {
  color: #dc2626;
}

.teamScore.blue .teamTickets {
  color: #2563eb;
}

.teamCount {
  font-size: 12px;
  color: var(--muted);
  margin-top: 4px;
}

.teamVs {
  font-size: 18px;
  font-weight: 900;
  color: var(--muted);
}

.statsSection {
  margin-bottom: 16px;
}

.statsList {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.statItem {
  display: grid;
  grid-template-columns: 50px 1fr;
  gap: 10px;
  align-items: center;
  font-size: 14px;
  padding: 8px 10px;
  background: #fff;
  border-radius: 8px;
  border: 1px solid var(--border);
}

.statItem.muted {
  color: var(--muted);
  display: block;
}

.statPct {
  font-weight: 800;
  color: var(--text);
  font-size: 16px;
}

.statLabel {
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.tickerBox { margin-top: auto; }

.ticker {
  font-size: 18px;
  padding: 14px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: #fff;
  color: var(--text);
  min-height: 62px;
  display: flex;
  align-items: center;
  transition: all 0.3s ease;
}

.ticker.excited {
  background: #f5f5f5;
  border-color: var(--text);
  animation: tickerCelebrate 0.6s ease-in-out 4;
}

@keyframes tickerCelebrate {
  0% { transform: scale(1) translateY(0); box-shadow: 0 0 0 rgba(26, 26, 26, 0); }
  15% { transform: scale(1.03) translateY(-3px); box-shadow: 0 4px 15px rgba(26, 26, 26, 0.15); }
  30% { transform: scale(0.99) translateY(1px); box-shadow: 0 2px 8px rgba(26, 26, 26, 0.1); }
  45% { transform: scale(1.02) translateY(-2px); box-shadow: 0 3px 12px rgba(26, 26, 26, 0.12); }
  60% { transform: scale(1) translateY(0); box-shadow: 0 2px 8px rgba(26, 26, 26, 0.08); }
  100% { transform: scale(1) translateY(0); box-shadow: 0 0 0 rgba(26, 26, 26, 0); }
}

.disclaimer {
  margin-top: 16px;
  font-size: 12px;
  color: var(--muted2);
  text-align: center;
  font-style: italic;
}
